---
import { OFFERS } from "../lib/offers";
const { ids = [] } = Astro.props as { ids: string[] };
const items = ids.map((id) => ({ id, ...OFFERS[id] })).filter(Boolean);
---

{items.length > 0 && (
  <div class="my-6 border border-amber-300 bg-amber-50 rounded-xl p-4">
    <div class="flex items-center gap-2 text-amber-900 font-semibold">
      <svg width="18" height="18" viewBox="0 0 24 24" class="opacity-80"><path fill="currentColor" d="M11 7h2v2h-2zm0 4h2v6h-2z"/><path fill="currentColor" d="M1 21h22L12 2z"/></svg>
      Recommended picks
    </div>
    <div class="mt-3 grid sm:grid-cols-2 gap-3">
      {items.map((o) => (
        <a href={o.url} rel="sponsored noopener" target="_blank" class="flex items-center justify-between rounded-lg border border-amber-200 bg-white p-3 hover:shadow">
          <div>
            <div class="font-semibold">{o.name}</div>
            {o.badge && <div class="text-xs text-amber-700 mt-0.5">{o.badge}</div>}
          </div>
          <span class="text-sm px-3 py-1 rounded bg-amber-100">Check offer â†’</span>
        </a>
      ))}
    </div>
    <p class="mt-3 text-xs text-amber-900/80">Disclosure: We may earn a commission at no extra cost to you.</p>
  </div>
)}
