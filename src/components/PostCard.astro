---
const { href, title, summary, date, tags = [], hero } = Astro.props;
const fmt = (d) => new Date(d).toLocaleDateString('en-CA', { year:'numeric', month:'short', day:'numeric' });
---

<a href={href} class="group block rounded-2xl border border-slate-200 overflow-hidden hover:shadow-sm transition">
  {hero && <img src={hero} alt={title} loading="lazy" class="aspect-[16/9] w-full object-cover" />}
  <div class="p-4">
    <div class="text-xs text-slate-500">{fmt(date)}</div>
    <h3 class="mt-1 font-semibold leading-snug group-hover:underline">{title}</h3>
    {summary && <p class="mt-2 text-sm text-slate-600 line-clamp-3">{summary}</p>}
    {tags?.length > 0 && (
      <div class="mt-3 flex flex-wrap gap-2">
        {tags.slice(0,3).map((t) => <span class="text-xs bg-slate-100 px-2 py-1 rounded">{t}</span>)}
      </div>
    )}
  </div>
</a>
