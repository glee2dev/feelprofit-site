---
import Layout from "../../components/Layout.astro";
import PostCard from "../../components/PostCard.astro";
import { getCollection } from "astro:content";

const entries = await getCollection("posts", (p) => p.data.hub === "money" && !p.data.draft);
const posts = entries
  .sort((a,b) => b.data.date.getTime() - a.data.date.getTime())
  .map((e) => ({
    href: `/posts/${e.slug}/`,
    title: e.data.title,
    summary: e.data.summary,
    date: e.data.date,
    tags: e.data.tags,
    hero: e.data.hero,
  }));
---
<Layout title="Money â€” FeelProfit" description="Budgeting, cashback, and beginner investing.">
  <h1 class="text-2xl font-extrabold">Money</h1>
  <p class="text-slate-600 mt-2">Budgeting apps, comparisons, and weekly money routines.</p>
  <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {posts.map((p) => <PostCard {...p} />)}
  </div>
</Layout>
